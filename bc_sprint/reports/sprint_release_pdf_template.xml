<odoo>
    <record id="action_sprint_release_pdf_report" model="ir.actions.report">
        <field name="name">Sprint Release Report</field>
        <field name="model">sprint</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">bc_sprint.report_sprint_release_pdf</field>
        <field name="report_file">bc_sprint.report_sprint_release_pdf</field>
        <field name="paperformat_id" ref="bc_sprint.paperformat_sprint_release"/>
    </record>

    <template id="bc_sprint.report_sprint_release_pdf">
        <t t-call="web.basic_layout">
            <div style="font-family: roboto;">
                <div class="header"
                     style="text-align: center; width: 100%; position: relative; border-bottom: 1px solid #3ABFB7; font-size: 15px;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <tr>
                            <td style="width: 33.33%; text-align: left;">
                                <br/>
                                <t t-if="docs.company_id">
                                    <t t-out="docs.company_id.street"/>,
                                    <t t-out="docs.company_id.zip"/>
                                    <t t-out="docs.company_id.city"/>
                                </t>
                            </td>
                            <td style="width: 33.33%; text-align: center; vertical-align: middle;">
                                <img t-if="docs.company_id and docs.company_id.logo"
                                     t-att-src="image_data_uri(docs.company_id.logo)"
                                     style="max-height:50px;"/>
                            </td>
                            <td style="width: 33.33%; text-align: right; vertical-align: middle;">
                                <t t-if="docs.company_id">
                                    <t t-out="docs.company_id.phone"/>
                                </t>
                            </td>
                        </tr>
                    </table>
                </div>
                <div style="text-align: center; margin-top: 5px;">
                    <h1 style="color: #3ABFB7; font-weight: bold;">
                        Sprint release:
                        <t t-out="docs.name"/>
                    </h1>
                </div>
                <table style="width:100%; margin-top:15px;">
                    <t t-foreach="docs.task_ids" t-as="task">
                        <t t-set="current_index" t-value="task_index"/>
                        <tr>
                            <td>
                                <t t-if="current_index == 0 or task.project_id != docs.task_ids[current_index - 1].project_id">
                                    <h2 style="text-align: center; text-decoration: underline; margin-top: 9px; font-weight: bold; color: #3ABFB7;">
                                        Project :
                                        <t t-out="task.project_id.name"/>
                                    </h2>
                                </t>
                                <h2 style="margin-top: 8px; text-decoration: underline;">
                                    <strong style="color: #3ABFB7;">Task :</strong>
                                    <t t-out="task.name"/>
                                </h2>
                                <t t-if="task.description">
                                    <div>
                                        <h4 style="margin-top: 5px; font-weight: bold; color: #3ABFB7;">Description</h4>
                                        <p>
                                            <t t-out="task.description"/>
                                        </p>
                                    </div>
                                </t>
                                <t t-if="task.documentation">
                                    <div>
                                        <h4 style="margin-top: 5px; font-weight: bold; color: #3ABFB7;">Documentation
                                        </h4>
                                        <p>
                                            <t t-out="task.documentation"/>
                                        </p>
                                    </div>
                                </t>
                            </td>
                        </tr>
                    </t>
                </table>
                <div class="footer"
                     style="margin-top:40px; text-align:center; border-top: 2px solid #1A5551; padding-top: 10px; font-size: 12px; color: #555;">
                    <strong>Project :</strong>
                    <t t-out="docs.project_id.name"/>
                    <strong>| Release note created by :</strong>
                    <t t-if="docs.user_id">
                        <t t-out="docs.user_id.name"/>
                    </t>
                    <strong>| Generated by :</strong>
                    <t t-if="docs.company_id">
                        <t t-out="docs.company_id.name"/>
                    </t>
                </div>
            </div>
        </t>
    </template>
</odoo>
